{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block title %}Hướng dẫn Thanh toán - Fivitel{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'css/booking.css' %}">
{% endblock %}

{% block content %}
<div class="container payment-guidance-page">
    
    <section class="booking-section">
        <h2>Hướng dẫn Chuyển khoản</h2>
        <p>Vui lòng hoàn tất thanh toán trong vòng 24 giờ để chúng tôi xác nhận đặt phòng của bạn. Đơn hàng #{{ booking.id }}</p>

        <div class="payment-info-grid">
            <div class="bank-details">
                <p>Tổng số tiền cần thanh toán:</p>
                <p class="payment-total">{{ booking.total_price|intcomma }} VNĐ</p>
                <hr style="border-style: dashed; margin: 20px 0;">
                <p><strong>Ngân hàng:</strong> Vietcombank</p>
                <p><strong>Số tài khoản:</strong> 999988889999</p>
                <p><strong>Chủ tài khoản:</strong> CTY TNHH KHÁCH SẠN FIVITEL</p>
                <p><strong>Nội dung chuyển khoản (bắt buộc):</strong> <code class="payment-code">TT {{ booking.id }}</code></p>
            </div>
            <div class="qr-code-container">
                <img src="{% static 'images/qr-code.png' %}" alt="Mã QR chuyển khoản">
                <p>Quét mã để thanh toán nhanh</p>
            </div>
        </div>
    </section>

    <section class="booking-section">
        <h2>Tải lên Bằng chứng Thanh toán</h2>
        <p>Sau khi chuyển khoản thành công, vui lòng chụp lại màn hình giao dịch và tải lên đây để được xác nhận nhanh nhất.</p>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-field">
                {{ form.image }}
            </div>
            <button type="submit" class="btn-submit-booking" style="width: 100%; margin-top: 20px;">Xác nhận đã chuyển khoản</button>
        </form>
    </section>

</div>
{% endblock %}