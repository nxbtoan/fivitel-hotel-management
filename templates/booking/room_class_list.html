{% load static %}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Các hạng phòng {{ room_type.name }}</title>
    <link rel="stylesheet" href="{% static 'css/booking.css' %}">
</head>
<body style="background-color: #f0f2f5;">

    <div class="list-container">
        <a href="{% url 'room_type_list' %}" class="back-link">‹ Quay lại chọn Loại phòng</a>
        <h1 class="page-title">Các hạng phòng cho "{{ room_type.name }}"</h1>
        <p class="page-subtitle">{{ room_type.description }}</p>

        <div class="class-list">
            {% for class in room_classes %}
            <div class="class-card">
                <div class="class-card-img">
                    {% if class.image %}
                    <img src="{{ class.image.url }}" alt="{{ class.name }}">
                    {% else %}
                    <div class="placeholder-image">Chưa có ảnh</div>
                    {% endif %}
                </div>
                <div class="class-card-body">
                    <h3>{{ class.name }}</h3>
                    <p class="available-rooms {% if class.available_rooms_count == 0 %}sold-out{% endif %}">
                        <strong>Còn trống:</strong> {{ class.available_rooms_count }} phòng
                    </p>
                    <p class="class-specs"><strong>Diện tích:</strong> {{ class.area }} | <strong>Giá từ:</strong> {{ class.base_price }} VNĐ/đêm</p>
                    <p>{{ class.description|truncatewords:30 }}</p>
                    <ul class="amenities-list">
                        {% for amenity in class.amenities_list|slice:":4" %}
                            <li>{{ amenity }}</li>
                        {% endfor %}
                        {% if class.amenities_list|length > 4 %}
                            <li>...</li>
                        {% endif %}
                    </ul>
                </div>
                <div class="class-card-action">
                    {% if class.available_rooms_count > 0 %}
                        <a href="{% url 'booking_options' class.pk %}" class="btn-book">Đặt phòng</a>
                    {% else %}
                        <a class="btn-book disabled">Hết phòng</a>
                    {% endif %}
                </div>
            </div>
            {% empty %}
            <p>Loại phòng này hiện chưa có hạng phòng nào được cập nhật.</p>
            {% endfor %}
        </div>
    </div>

</body>
</html>